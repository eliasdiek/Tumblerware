<style>
    .index-text_with_image-section {
        background-color: {{ section.settings.bg_color }};
    }
</style>

<div class="text-with-image-wrapper">
    <div class="text-block">
        <h2 class="heading">{{ section.settings.heading }}</h2>

        <div class="description">{{ section.settings.description }}</div>
    </div>
    <div class="image-block">
        {%- assign img_url = section.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
        <img class="lazyload"
            src="{{ section.settings.image | img_url: '300x' }}"
            data-src="{{ img_url }}"
            data-widths="[540, 720, 900, 1080, 1296, 1512, 1728, 1944, 2048, 4472]"
            data-aspectratio="{{ section.settings.image.aspect_ratio }}"
            data-sizes="auto"
            data-parent-fit="cover"
            alt="{{ section.settings.image.alt | escape }}"
            style="object-position: {{ section.settings.image_position }}"
        />
    </div>
</div>

{% schema %}
{
"name": "Text with image",
"class": "index-text_with_image-section",
"settings": [
    {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "<p>A short sentence describing what someone will receive by heading</p>"
    },
    {
        "type": "richtext",
        "id": "description",
        "label": "Description",
        "default": "<p>A short sentence describing what someone will receive by description</p>"
    },
    {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color"
    },
    {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
    }
],
"presets": [
    {
        "name": "Newsletter signup",
        "category": "Text"
    }
]
}
{% endschema %}
  